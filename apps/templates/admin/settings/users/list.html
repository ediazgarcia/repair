{% extends 'layout.html' %}
{% set current_page = 'Configuración' %}
<h2>{% block title %}Usuarios{% endblock %}</h2>

{% block content %}
<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h1 mb-0 text-gray-800 d-flex">Usuarios</h1>
    <a href="{{url_for('user.create_user')}}" class="btn btn-primary btn-circle btn-lg ml-auto" title="Nuevo Usuario">
        <i class="fa fa-plus" aria-hidden="true"></i>
    </a>
</div>
<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item active" aria-current="page">Usuarios</li>
    </ol>
</nav>
<!-- Content Row -->

<!-- DataTales Example -->
<div class="card shadow mb-5">
    <div class="card-header py-2">
        <h3 class="text-gray-900 mb-4">Todos los Usuarios</h3>
    </div>
    <div class="card-body table-custom">
        <div class="table-responsive">
            <table class="table" id="dataTable" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th class="th-sm">Nombre Completo
                        </th>
                        <th class="th-sm">Nombre de Usuario
                        </th>
                        <th class="th-sm">Correo Electrónico
                        </th>
                        <th class="th-sm">Rol</th>
                        <th class="th-sm">Estado
                        </th>
                        <th class="th-sm">Registrado
                        </th>
                        <th class="th-sm">Actualizado
                        </th>
                        <th class="th-sm">Acciones
                        </th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in user%}
                    <tr>
                        <td>{{user.fullname}}</td>
                        <td>{{user.username}}</td>
                        <td>{{user.email}}</td>
                        <td>{{user.role}}</td>
                        {% if user.active %}
                        <td><span class="badge badge-success">Activo</span></td>
                        {% else %}
                        <td><span class="badge badge-danger">Inactivo</span></td>
                        {% endif %}
                        <td>{{user.created}}</td>
                        <td>{{user.updated}}</td>
                        <td>
                            <button class="btn  btn-sm btn-primary"
                                onclick="location.href='{{ url_for('user.update_user', id=user.id) }}'" title="Editar">
                                <i class="fa fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger"
                                onclick="location.href='{{ url_for('user.delete_user', id=user.id) }}'" title="Eliminar">
                                <i class="fa fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- </div> -->

{% endblock %}